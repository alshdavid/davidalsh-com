<head>
  <%- await include(paths.root + '/partials/head.ejs', {
    title: ctx.title,
    meta: {
      type: {
        key: "article", 
        attributes: {
          published_time: ctx.publish_date,
          modified_time: ctx.changes[changes.length - 1],
          author: "David Alsh",
          section: "Technology",
          tag: ctx.tags,
        }
      },
      description: ctx.description || ctx.image_subtitle || '',
      image: ctx.image
    }
  }) %>
</head>

<body class="page-article <%- util.path.basename(paths.dirname) %>">
  <%- await include(paths.root + '/partials/header/header.ejs', {
    breadcrumbs: [[ctx.title, slug]]
  }) %>

  <main class="markdown-body">
    <% if (ctx.image) { %> 
      <div class="hero-image">
        <img src="<%- ctx.image %>" alt="<%- ctx.image_alt || '' %>" /> 
        <% if (ctx.image_subtitle) { %> 
          <i><%- ctx.image_subtitle %></i>
        <% } %>
      </div>
    <% } %>

    <%- await markdown.render('./readme.md') %>
  </main>
  
  <div class="comments">
    <script src="https://giscus.app/client.js"
        data-repo="alshdavid/davidalsh-com"
        data-repo-id="MDEwOlJlcG9zaXRvcnk2ODQ0NzA1NA=="
        data-category="Announcements"
        data-category-id="DIC_kwDOBBRrTs4Cgmfx"
        data-mapping="og:title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="bottom"
        data-theme="dark"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
    </script>
  </div>
</body>
